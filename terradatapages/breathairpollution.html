<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Breathe Earth: Air & Pollution Trends</title>
    <link
        href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&family=Inter:wght@300;400;700&display=swap"
        rel="stylesheet">
    <style>
        :root {
            --color-primary: #00d4ff;
            --color-secondary: #7b2ff7;
            --color-danger: #ff6b35;
            --color-text: #ffffff;
            --color-bg: #000000;
            --font-main: 'Inter', sans-serif;
            --font-heading: 'Orbitron', sans-serif;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: var(--font-main);
            color: var(--color-text);
            background-color: var(--color-bg);
            line-height: 1.6;
            overflow-x: hidden;
        }

        #starfield {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 0;
            pointer-events: none;
        }

        @keyframes glow-pulse {
            0%, 100% {
                text-shadow: 0 0 10px var(--color-primary);
            }
            50% {
                text-shadow: 0 0 20px var(--color-primary), 0 0 30px var(--color-primary);
            }
        }

        .navbar {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            background: rgba(0, 0, 0, 0.95);
            backdrop-filter: blur(10px);
            box-shadow: 0 2px 20px rgba(0, 212, 255, 0.3);
            padding: 0 40px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            z-index: 1000;
            border-bottom: 1px solid rgba(0, 212, 255, 0.2);
            height: 70px;
        }

        .logo {
            font-family: var(--font-heading);
            font-size: 1.8rem;
            color: var(--color-primary);
            animation: glow-pulse 3s ease-in-out infinite;
        }

        .nav-links a {
            color: var(--color-text);
            text-decoration: none;
            padding: 10px 20px;
            margin: 0 5px;
            display: inline-block;
            transition: all 0.3s ease;
            font-weight: 500;
            position: relative;
        }

        .nav-links a::after {
            content: '';
            position: absolute;
            bottom: 5px;
            left: 50%;
            width: 0;
            height: 2px;
            background: var(--color-primary);
            transform: translateX(-50%);
            transition: width 0.3s ease;
        }

        .nav-links a:hover::after {
            width: 70%;
        }

        .nav-links a:hover {
            color: var(--color-primary);
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 100px 20px 40px;
            position: relative;
            z-index: 1;
        }

        .section {
            padding: 60px 0;
            margin-bottom: 40px;
        }

        .section h2 {
            font-family: var(--font-heading);
            font-size: 2.5rem;
            color: var(--color-primary);
            text-align: center;
            margin-bottom: 40px;
            text-transform: uppercase;
            letter-spacing: 2px;
        }

        .card {
            background: rgba(20, 20, 20, 0.95);
            border-radius: 20px;
            padding: 40px;
            margin-bottom: 30px;
            box-shadow: 0 10px 40px rgba(0, 212, 255, 0.15);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(0, 212, 255, 0.2);
            transition: all 0.4s ease;
        }

        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 50px rgba(0, 212, 255, 0.25);
            border-color: rgba(0, 212, 255, 0.4);
        }

        .canvas-container {
            width: 100%;
            height: 500px;
            margin: 30px 0;
            border-radius: 15px;
            overflow: hidden;
            border: 2px solid rgba(0, 212, 255, 0.3);
            box-shadow: 0 0 30px rgba(0, 212, 255, 0.2);
            background: #000;
        }

        .comparison-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            text-align: center;
            margin-top: 30px;
        }

        .gif-frame {
            padding: 20px;
            background: rgba(10, 10, 10, 0.9);
            border-radius: 15px;
            border: 2px solid rgba(0, 212, 255, 0.3);
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.5);
            transition: all 0.4s ease;
            min-height: 300px;
            display: flex;
            flex-direction: column;
            justify-content: center;
        }

        .gif-frame:hover {
            transform: translateY(-10px);
            border-color: rgba(0, 212, 255, 0.6);
            box-shadow: 0 10px 40px rgba(0, 212, 255, 0.3);
        }

        .gif-frame.end-state {
            border-color: var(--color-danger);
            animation: danger-pulse 2s ease-in-out infinite;
        }

        @keyframes danger-pulse {
            0%, 100% {
                box-shadow: 0 5px 20px rgba(255, 107, 53, 0.4);
            }
            50% {
                box-shadow: 0 10px 40px rgba(255, 107, 53, 0.7);
            }
        }

        .embedded-gif {
            width: 100%;
            height: 200px;
            border-radius: 10px;
            object-fit: cover;
            border: 2px solid rgba(0, 212, 255, 0.3);
            margin: 10px 0;
        }

        .key-insight {
            background: linear-gradient(90deg, var(--color-primary), var(--color-secondary));
            padding: 20px;
            border-radius: 10px;
            margin-top: 30px;
            font-weight: 700;
            text-align: center;
            box-shadow: 0 5px 20px rgba(0, 212, 255, 0.4);
        }

        .text-center {
            text-align: center;
        }

        button {
            padding: 15px 40px;
            font-size: 1.1rem;
            background: var(--color-primary);
            border: none;
            border-radius: 8px;
            color: #000;
            cursor: pointer;
            font-family: var(--font-heading);
            font-weight: 700;
            transition: all 0.3s ease;
        }

        button:hover {
            background: #00a8cc;
            box-shadow: 0 5px 20px rgba(0, 212, 255, 0.5);
            transform: translateY(-2px);
        }

        .impact-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 30px;
            margin-top: 30px;
        }

        .impact-card {
            background: rgba(30, 30, 30, 0.8);
            border-radius: 15px;
            padding: 30px;
            border-left: 5px solid var(--color-primary);
            transition: all 0.3s ease;
        }

        .impact-card:hover {
            transform: translateX(5px);
            border-left-color: var(--color-secondary);
        }

        .impact-card h3 {
            color: var(--color-primary);
            margin-bottom: 15px;
            font-family: var(--font-heading);
        }

        .impact-icon {
            font-size: 2.5rem;
            margin-bottom: 15px;
            color: var(--color-primary);
        }

        .stat-card {
            background: linear-gradient(135deg, rgba(0, 212, 255, 0.1), rgba(123, 47, 247, 0.1));
            border-radius: 15px;
            padding: 25px;
            text-align: center;
            border: 1px solid rgba(0, 212, 255, 0.3);
        }

        .stat-number {
            font-size: 3rem;
            font-weight: 700;
            color: var(--color-primary);
            font-family: var(--font-heading);
            margin-bottom: 10px;
        }

        .stat-label {
            font-size: 1.1rem;
            color: #ccc;
        }

        .solution-card {
            background: rgba(40, 40, 40, 0.9);
            border-radius: 15px;
            padding: 30px;
            margin: 20px 0;
            border-left: 5px solid var(--color-secondary);
        }

        .solution-card h3 {
            color: var(--color-primary);
            margin-bottom: 15px;
            font-family: var(--font-heading);
        }

        .solution-card ul {
            color: #ccc;
            margin-left: 20px;
            margin-top: 10px;
            line-height: 1.8;
        }

        @media (max-width: 900px) {
            .comparison-grid,
            .impact-grid {
                grid-template-columns: 1fr;
            }

            .navbar {
                flex-direction: column;
                height: auto;
                padding: 15px;
            }

            .nav-links {
                margin-top: 10px;
                display: flex;
                flex-wrap: wrap;
                justify-content: center;
            }
        }
    </style>
</head>

<body>
    <canvas id="starfield"></canvas>

    <nav class="navbar">
        <div class="logo">BREATHE EARTH</div>
        <div class="nav-links">
            <a href="../planetspages/earth.html">Home</a>
            <a href="#comparison">Data</a>
            <a href="#visualization">3D View</a>
            <a href="#impact">Impact</a>
            <a href="#health">Your Health</a>
            <a href="#solutions">Solutions</a>
        </div>
    </nav>

    <div class="container">

        <header class="section" id="hero">
            <div class="card">
                <h1 class="text-center"
                    style="font-family: var(--font-heading); font-size: 3.5rem; color: var(--color-primary); margin-bottom: 20px;">
                    THE INVISIBLE THREAT
                </h1>
                <h2 class="text-center" style="font-size: 1.5rem; color: #aaa; font-weight: 300; margin-bottom: 30px;">
                    Air Pollution and Atmospheric Change (2019-2025)
                </h2>
                <p class="text-center" style="font-size: 1.2rem; color: #ccc; max-width: 800px; margin: 0 auto 30px;">
                    An immersive exploration of how atmospheric pollution has escalated through satellite data,
                    revealing the alarming rise in Carbon Monoxide, Nitrogen Dioxide, and Methane concentrations.
                </p>
                <div class="text-center">
                    <a href="#comparison" style="text-decoration: none;">
                        <button>Explore the Data →</button>
                    </a>
                </div>

                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px; margin-top: 40px;">
                    <div class="stat-card">
                        <div class="stat-number">7M</div>
                        <div class="stat-label">Deaths Annually from Air Pollution</div>
                    </div>

                    <div class="stat-card">
                        <div class="stat-number">91%</div>
                        <div class="stat-label">Of Global Population Breathes Unsafe Air</div>
                    </div>

                    <div class="stat-card">
                        <div class="stat-number">30-50%</div>
                        <div class="stat-label">NO₂ Reduction During 2020 Lockdowns</div>
                    </div>
                </div>
            </div>
        </header>

        

        <section class="section">
            <h2>NITROGEN DIOXIDE (NO₂) TRENDS</h2>
            <div class="card">
                <p style="font-size: 1.1rem; margin-bottom: 30px;">Nitrogen dioxide forms when fossil fuels burn at high temperatures. The reddish-brown gas is a major component of urban smog and industrial pollution.</p>

                <div class="comparison-grid">
                    <div class="gif-frame">
                        <p style="font-weight: bold; color: var(--color-primary); margin-bottom: 15px;">2019 NO₂ Levels</p>
                        <img src="nitricacid2012.gif" class="embedded-gif" alt="2019 Nitrogen Dioxide Data">
                    </div>

                    <div class="gif-frame">
                        <p style="font-weight: bold; color: #ffa94d; margin-bottom: 15px;">2023 NO₂ Levels</p>
                        <img src="nitricacid 2018.gif" class="embedded-gif" alt="2023 Nitrogen Dioxide Data">
                    </div>

                    <div class="gif-frame end-state">
                        <p style="font-weight: bold; color: var(--color-danger); margin-bottom: 15px;">2024 NO₂ Levels</p>
                        <img src="nitricacid2025.gif" class="embedded-gif" alt="2024 Nitrogen Dioxide Data">
                    </div>
                </div>

                <div style="margin-top: 30px; padding: 20px; background: rgba(0, 212, 255, 0.1); border-radius: 10px; border-left: 4px solid var(--color-primary);">
                    <h4 style="color: var(--color-primary); margin-bottom: 10px;">Historical Perspective</h4>
                    <img src="no2changesovertime.gif" class="embedded-gif" style="height: 100%;" alt="NO₂ Historical Timeline 2005-2022">
                    <p style="color: #ccc; margin-top: 10px;">This comprehensive video analysis reveals nearly two decades of nitrogen dioxide evolution, showing how industrialization and urbanization have shaped our atmosphere.</p>
                </div>
            </div>
        </section>

        <section class="section">
            <h2>METHANE (CH₄) ESCALATION</h2>
            <div class="card">
                <p style="font-size: 1.1rem; margin-bottom: 30px;">Methane, a greenhouse gas 25 times more potent than CO₂, has shown alarming increases from agriculture, landfills, and fossil fuel extraction.</p>

                <div class="comparison-grid">
                    <div class="gif-frame">
                        <p style="font-weight: bold; color: var(--color-primary); margin-bottom: 15px;">2019 Methane</p>
                        <img src="methane2019.gif" class="embedded-gif" alt="2019 Methane Data">
                    </div>

                    <div class="gif-frame">
                        <p style="font-weight: bold; color: #ffa94d; margin-bottom: 15px;">2023 Methane</p>
                        <img src="methane2022.gif" class="embedded-gif" alt="2023 Methane Data">
                    </div>

                    <div class="gif-frame end-state">
                        <p style="font-weight: bold; color: var(--color-danger); margin-bottom: 15px;">2024 Methane</p>
                        <img src="methane2025.gif" class="embedded-gif" alt="2024 Methane Data">
                    </div>
                </div>
            </div>
        </section>

        <section id="visualization" class="section">
            <h2>3D VISUALIZATION: POLLUTION DYNAMICS</h2>

            <div class="card">
                <h3 style="text-align: center; color: var(--color-primary); font-family: var(--font-heading); margin-bottom: 20px; font-size: 1.8rem;">
                    Interactive Scene: Vehicles, Factories & Emissions
                </h3>
                <div class="canvas-container" id="scene-container"></div>
                <p style="text-align: center; font-size: 0.95rem; color: #888; margin-top: 15px;">
                    Interactive 3D scene showing real-time pollution from transportation and industrial sources.
                </p>
            </div>

            <div class="card">
                <h3 style="color: var(--color-primary); margin-bottom: 20px;">The Science Story</h3>
                <p style="margin-bottom: 20px;">Using NASA's MODIS and MOPITT instruments, scientists can now see what was once invisible. The data reveals a troubling pattern: atmospheric concentrations have dramatically increased from low baselines to concerning hotspots visible across the globe.</p>

                <p style="margin-bottom: 20px;">In just a few years, we witnessed what scientists call a "rapid, substantial escalation" of human-caused emissions. The purple and red zones spreading across satellite imagery represent areas where concentrations exceed safe levels.</p>

                <div style="background: rgba(123, 47, 247, 0.1); padding: 20px; border-radius: 10px; margin-top: 20px; border-left: 4px solid var(--color-secondary);">
                    <h4 style="color: var(--color-secondary); margin-bottom: 10px;">The 2020 Lockdown Revelation</h4>
                    <p style="color: #ccc;">The COVID-19 lockdowns provided an unprecedented natural experiment. Satellite data showed immediate reductions in NO₂ and CO levels, particularly in Asia and major urban centers. This proved something crucial: our actions directly impact air quality. When vehicles stopped and factories paused, the atmosphere began to clear within weeks.</p>
                </div>
            </div>
        </section>

        <section id="impact" class="section">
            <h2>WHAT DRIVES AIR POLLUTION?</h2>
            <div class="card">
                <p style="margin-bottom: 20px;">The dramatic rise in atmospheric pollutants is predominantly driven by human activities and industrial processes:</p>

                <div class="impact-grid">
                    <div class="impact-card">
                        <h3>Transportation Emissions</h3>
                        <p>Vehicles burning fossil fuels release CO, NO₂, and particulate matter. Urban traffic congestion multiplies these effects, creating pollution hotspots in major cities worldwide.</p>
                    </div>

                    <div class="impact-card">
                        <h3>Industrial Activities</h3>
                        <p>Factories, power plants, and manufacturing facilities emit massive quantities of pollutants through combustion processes and chemical reactions.</p>
                    </div>

                    <div class="impact-card">
                        <h3>Agricultural Practices</h3>
                        <p>Livestock production and rice cultivation release methane, while fertilizer use contributes to nitrogen oxide emissions.</p>
                    </div>

                    <div class="impact-card">
                        <h3>Fossil Fuel Extraction</h3>
                        <p>Oil and gas operations leak methane directly into the atmosphere, accelerating climate change and creating health hazards.</p>
                    </div>
                </div>
            </div>
        </section>

        <section id="health" class="section">
            <h2>HOW AIR POLLUTION AFFECTS YOU</h2>
            <div class="card">
                <p style="margin-bottom: 30px;">Air pollution isn't just an environmental issue—it's a direct threat to your health, safety, and the wellbeing of your loved ones.</p>

                <div class="impact-grid">
                    <div class="impact-card">
                        <div class="impact-icon">🫁</div>
                        <h3>Respiratory System</h3>
                        <p><strong>Air pollutants damage lung tissue,</strong> reducing capacity by up to 20% in heavily polluted areas. CO prevents oxygen delivery to organs, while NO₂ inflames airways causing asthma and bronchitis. Children and elderly face 3x higher risks.</p>
                    </div>

                    <div class="impact-card">
                        <div class="impact-icon">❤️</div>
                        <h3>Cardiovascular Health</h3>
                        <p><strong>Fine particles penetrate deep into lungs and bloodstream,</strong> increasing heart attack and stroke risk by 30-40%. Long-term exposure leads to chronic heart disease and irregular heart rhythms.</p>
                    </div>

                    <div class="impact-card">
                        <div class="impact-icon">👁️</div>
                        <h3>Eyes & Skin</h3>
                        <p><strong>Pollutants cause eye irritation, redness, and vision problems.</strong> Skin conditions like eczema and dermatitis flare up from exposure to particulate matter and chemical byproducts.</p>
                    </div>

                    <div class="impact-card">
                        <div class="impact-icon">🧠</div>
                        <h3>Cognitive Function</h3>
                        <p><strong>Studies link air pollution to reduced cognitive performance,</strong> memory problems, and increased risk of dementia. Children exposed to high pollution show lower test scores and developmental delays.</p>
                    </div>
                </div>

                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px; margin-top: 40px;">
                    <div class="stat-card">
                        <div class="stat-number">7M</div>
                        <div class="stat-label">Deaths annually from air pollution</div>
                    </div>

                    <div class="stat-card">
                        <div class="stat-number">35%</div>
                        <div class="stat-label">Increase in sick days in polluted areas</div>
                    </div>

                    <div class="stat-card">
                        <div class="stat-number">$5T</div>
                        <div class="stat-label">Global welfare losses annually</div>
                    </div>
                </div>
            </div>
        </section>

        <section id="solutions" class="section">
            <h2>SOLUTIONS & PREVENTION</h2>
            <div class="card">
                <p style="margin-bottom: 20px;">The trajectory shown by the data is reversible. Implementing changes at global, community, and individual levels can drastically reduce pollution and protect public health:</p>

                <div class="solution-card">
                    <h3>🚗 Transportation Changes</h3>
                    <p style="margin-bottom: 15px;"><strong>Individual Action:</strong> Use public transit, carpool, bike, or walk when possible. Electric vehicles reduce emissions by 60%.</p>
                    <p><strong>Community Level:</strong> Advocate for better public transportation infrastructure, bike lanes, and pedestrian-friendly urban design.</p>
                </div>

                <div class="solution-card">
                    <h3>⚡ Energy Transition</h3>
                    <p style="margin-bottom: 15px;"><strong>Home:</strong> Switch to renewable energy sources. Improve insulation to reduce heating/cooling needs by 30-40%.</p>
                    <p><strong>Systemic:</strong> Support policies promoting solar, wind, and clean energy. Demand corporate accountability for emissions.</p>
                </div>

                <div class="solution-card">
                    <h3>🏭 Industrial Regulation</h3>
                    <p style="margin-bottom: 15px;"><strong>Monitor & Report:</strong> Use air quality apps to track local pollution. Report violations to environmental authorities.</p>
                    <p><strong>Advocate:</strong> Push for stricter emission standards, carbon pricing, and enforcement of clean air regulations.</p>
                </div>

                <div class="solution-card">
                    <h3>🌳 Green Infrastructure</h3>
                    <p style="margin-bottom: 15px;"><strong>Plant Trees:</strong> Urban forests reduce pollution by 10-20%. One mature tree absorbs 48 lbs of CO₂ annually.</p>
                    <p><strong>Green Spaces:</strong> Support parks and green roofs. Vegetation filters particulates and produces oxygen.</p>
                </div>

                <div class="impact-grid" style="margin-top: 40px;">
                    <div class="impact-card">
                        <h3>Personal Protection</h3>
                        <ul style="color: #ccc; margin-left: 20px; margin-top: 10px;">
                            <li>Check AQI (Air Quality Index) daily</li>
                            <li>Use HEPA air purifiers indoors</li>
                            <li>Wear N95 masks in heavily polluted areas</li>
                            <li>Limit outdoor activities when pollution is high</li>
                        </ul>
                    </div>

                    <div class="impact-card">
                        <h3>Policy & Advocacy</h3>
                        <ul style="color: #ccc; margin-left: 20px; margin-top: 10px;">
                            <li>Vote for candidates with strong environmental platforms</li>
                            <li>Join or organize clean air initiatives</li>
                            <li>Pressure local businesses to reduce emissions</li>
                            <li>Spread awareness about air quality issues</li>
                        </ul>
                    </div>
                </div>

                <div class="key-insight" style="background: linear-gradient(90deg, #10e300, #009900); margin-top: 40px;">
                    The 2020 lockdowns proved that our choices matter. Every action we take to reduce emissions has immediate, measurable effects on air quality. We have the power to change the trajectory. The question is: will we?
                </div>
            </div>
        </section>

        <footer class="text-center" style="padding: 60px 0; font-size: 0.95rem; color: #666;">
            <p style="margin-bottom: 10px;">Data Sources: NASA MODIS, MOPITT, Sentinel-5P</p>
            <p>&copy; 2025 Breathe Earth Initiative. Data visualization inspires action.</p>
            <p style="margin-top: 10px;">Made with care to protect our atmosphere.</p>
        </footer>

    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script>
        const starCanvas = document.getElementById('starfield');
        const starCtx = starCanvas.getContext('2d');

        starCanvas.width = window.innerWidth;
        starCanvas.height = window.innerHeight;

        const stars = [];
        const starCount = 300;

        for (let i = 0; i < starCount; i++) {
            stars.push({
                x: Math.random() * starCanvas.width,
                y: Math.random() * starCanvas.height,
                radius: Math.random() * 2,
                speed: Math.random() * 0.3 + 0.1,
                opacity: Math.random() * 0.7 + 0.3
            });
        }

        function animateStars() {
            starCtx.fillStyle = 'rgba(0, 0, 0, 0.05)';
            starCtx.fillRect(0, 0, starCanvas.width, starCanvas.height);

            stars.forEach(star => {
                star.y += star.speed;

                if (star.y > starCanvas.height) {
                    star.y = 0;
                    star.x = Math.random() * starCanvas.width;
                }

                starCtx.beginPath();
                starCtx.arc(star.x, star.y, star.radius, 0, Math.PI * 2);
                starCtx.fillStyle = `rgba(255, 255, 255, ${star.opacity})`;
                starCtx.fill();
            });

            requestAnimationFrame(animateStars);
        }

        animateStars();

        window.addEventListener('resize', () => {
            starCanvas.width = window.innerWidth;
            starCanvas.height = window.innerHeight;
        });

        const container = document.getElementById('scene-container');

        const scene = new THREE.Scene();
        scene.background = new THREE.Color(0x000000);
        scene.fog = new THREE.Fog(0x000000, 10, 50);

        const camera = new THREE.PerspectiveCamera(
            60,
            container.clientWidth / container.clientHeight,
            0.1,
            1000
        );
        camera.position.set(15, 10, 15);
        camera.lookAt(0, 0, 0);

        const renderer = new THREE.WebGLRenderer({ antialias: true });
        renderer.setSize(container.clientWidth, container.clientHeight);
        renderer.shadowMap.enabled = true;
        container.appendChild(renderer.domElement);

        const ambientLight = new THREE.AmbientLight(0xffffff, 0.3);
        scene.add(ambientLight);

        const cityLight = new THREE.PointLight(0x00d4ff, 1.5, 100);
        cityLight.position.set(0, 5, 0);
        cityLight.castShadow = true;
        scene.add(cityLight);

        const groundGeo = new THREE.PlaneGeometry(50, 50);
        const groundMat = new THREE.MeshStandardMaterial({
            color: 0x1a1a1a,
            roughness: 0.9,
            metalness: 0.1
        });
        const ground = new THREE.Mesh(groundGeo, groundMat);
        ground.rotation.x = -Math.PI / 2;
        ground.position.y = 0;
        ground.receiveShadow = true;
        scene.add(ground);

        const roadGeo = new THREE.PlaneGeometry(50, 4);
        const roadMat = new THREE.MeshStandardMaterial({ color: 0x333333 });
        const road = new THREE.Mesh(roadGeo, roadMat);
        road.rotation.x = -Math.PI / 2;
        road.position.y = 0.01;
        scene.add(road);

        
        function createVehicle() {
            const vehicle = new THREE.Group();

            const bodyGeo = new THREE.BoxGeometry(2, 0.8, 1);
            const bodyMat = new THREE.MeshStandardMaterial({ color: 0x2c3e50 });
            const body = new THREE.Mesh(bodyGeo, bodyMat);
            body.position.y = 0.4;
            body.castShadow = true;
            vehicle.add(body);

            const cabinGeo = new THREE.BoxGeometry(1, 0.6, 0.9);
            const cabinMat = new THREE.MeshStandardMaterial({ color: 0x3498db });
            const cabin = new THREE.Mesh(cabinGeo, cabinMat);
            cabin.position.set(-0.3, 1, 0);
            cabin.castShadow = true;
            vehicle.add(cabin);

            const wheelGeo = new THREE.CylinderGeometry(0.3, 0.3, 0.2, 8);
            const wheelMat = new THREE.MeshStandardMaterial({ color: 0x000000 });

            const wheels = [
                [-0.7, 0.3, 0.6],
                [-0.7, 0.3, -0.6],
                [0.7, 0.3, 0.6],
                [0.7, 0.3, -0.6]
            ];

            wheels.forEach(pos => {
                const wheel = new THREE.Mesh(wheelGeo, wheelMat);
                wheel.rotation.z = Math.PI / 2;
                wheel.position.set(...pos);
                vehicle.add(wheel);
            });

            return vehicle;
        }

        const vehicles = [];
        for (let i = 0; i < 3; i++) {
            const vehicle = createVehicle();
            vehicle.position.set(-25 - i * 15, 0, 0);
            vehicle.userData = { speed: 0.1 + Math.random() * 0.05 };
            scene.add(vehicle);
            vehicles.push(vehicle);
        }

        const factoryGroup = new THREE.Group();

        const buildingGeo = new THREE.BoxGeometry(6, 4, 4);
        const buildingMat = new THREE.MeshStandardMaterial({ color: 0x555555 });
        const building = new THREE.Mesh(buildingGeo, buildingMat);
        building.position.y = 2;
        building.castShadow = true;
        factoryGroup.add(building);

        const chimneyPositions = [[-1.5, 4, 0], [0, 4, 0], [1.5, 4, 0]];
        chimneyPositions.forEach(pos => {
            const chimneyGeo = new THREE.CylinderGeometry(0.3, 0.4, 3, 8);
            const chimneyMat = new THREE.MeshStandardMaterial({ color: 0x666666 });
            const chimney = new THREE.Mesh(chimneyGeo, chimneyMat);
            chimney.position.set(...pos);
            chimney.castShadow = true;
            factoryGroup.add(chimney);
        });

        factoryGroup.position.set(12, 0, -8);
        scene.add(factoryGroup);

        
        const pollutionParticles = [];

        for (let i = 0; i < 150; i++) {
            const particleGeo = new THREE.SphereGeometry(0.1 + Math.random() * 0.15, 6, 6);
            const particleMat = new THREE.MeshBasicMaterial({
                color: new THREE.Color().setHSL(0, 0.6 - Math.random() * 0.3, 0.3 + Math.random() * 0.2),
                transparent: true,
                opacity: 0.6
            });
            const particle = new THREE.Mesh(particleGeo, particleMat);

            const radius = Math.random() * 20;
            const angle = Math.random() * Math.PI * 2;
            particle.position.set(
                Math.cos(angle) * radius,
                Math.random() * 8,
                Math.sin(angle) * radius
            );

            particle.userData = {
                velocity: new THREE.Vector3(
                    (Math.random() - 0.5) * 0.02,
                    0.03 + Math.random() * 0.03,
                    (Math.random() - 0.5) * 0.02
                ),
                life: Math.random() * 200,
                maxLife: 200
            };

            scene.add(particle);
            pollutionParticles.push(particle);
        }

        let time = 0;

        function animate() {
            requestAnimationFrame(animate);
            time += 0.01;

            vehicles.forEach(vehicle => {
                vehicle.position.x += vehicle.userData.speed;
                if (vehicle.position.x > 30) {
                    vehicle.position.x = -30;
                }
            });

         
            pollutionParticles.forEach(particle => {
                particle.position.add(particle.userData.velocity);
                particle.userData.life--;

                if (particle.userData.life <= 0 || particle.position.y > 15) {
                    const radius = Math.random() * 20;
                    const angle = Math.random() * Math.PI * 2;
                    particle.position.set(
                        Math.cos(angle) * radius,
                        Math.random() * 2,
                        Math.sin(angle) * radius
                    );
                    particle.userData.life = particle.userData.maxLife;
                }

                const lifePercent = particle.userData.life / particle.userData.maxLife;
                particle.material.opacity = lifePercent * 0.6;
            });

            cityLight.intensity = 1.3 + Math.sin(time * 2) * 0.3;

            camera.position.x = 15 + Math.sin(time * 0.2) * 2;
            camera.position.z = 15 + Math.cos(time * 0.15) * 2;
            camera.lookAt(0, 3, 0);

            renderer.render(scene, camera);
        }

        animate();

        window.addEventListener('resize', () => {
            if (container.clientWidth && container.clientHeight) {
                camera.aspect = container.clientWidth / container.clientHeight;
                camera.updateProjectionMatrix();
                renderer.setSize(container.clientWidth, container.clientHeight);
            }
        });

        
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function(e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({ behavior: 'smooth', block: 'start' });
                }
            });
        });
    </script>
</body>
</html>